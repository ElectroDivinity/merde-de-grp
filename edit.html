<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Éditeur sécurisé</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    #editor { display: none; }
    textarea { width: 100%; height: 300px; }
    iframe { width: 100%; height: 300px; border: 1px solid black; margin-top: 10px; }
  </style>
</head>
<body>
  <div id="login">
    <h2>Connexion</h2>
    <input type="text" id="user" placeholder="Nom d'utilisateur"><br><br>
    <input type="password" id="pass" placeholder="Mot de passe"><br><br>
    <button onclick="checkLogin()">Se connecter</button>
  </div>

  <div id="editor">
    <h2>Éditeur de la page d'accueil</h2>
    <textarea id="code">
<!-- Écris ici ton HTML -->
<h1>Bienvenue</h1>
<p>Texte personnalisé</p>
    </textarea>
    <br>
    <button onclick="preview()">Prévisualiser</button>
    <iframe id="preview"></iframe>
  </div>

  <script>
    const identifiants = {
      username: "admin",
      password: "1234"
    };

    function checkLogin() {
      const user = document.getElementById("user").value;
      const pass = document.getElementById("pass").value;
      if (user === identifiants.username && pass === identifiants.password) {
        document.getElementById("login").style.display = "none";
        document.getElementById("editor").style.display = "block";
      } else {
        alert("Identifiants incorrects !");
      }
    }

    function preview() {
      const html = document.getElementById("code").value;
      const iframe = document.getElementById("preview");
      iframe.srcdoc = html;
    }
  </script>
</body>
</html>
